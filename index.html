<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHRBRK - Fixed Scroll Interaction</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Kanit:wght@500;900&family=Montserrat:wght@300;500&display=swap');

        :root {
            --bg-color: #050505;
            --text-primary: #f0e6d2;
            --text-secondary: #ffffff;
            --drawer-bg: rgba(10, 10, 10, 0.95);
            --card-bg: #1a1a1a;
            --handle-bg: #f0e6d2;
            --handle-arrow: #000;
            --border-color: rgba(255, 255, 255, 0.2);
            --shadow-color: rgba(0,0,0,0.8);
            --icon-fill: #666;
            --icon-hover-text: #fff;
        }

        body.light-mode {
            --bg-color: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #000000;
            --drawer-bg: rgba(240, 240, 240, 0.95);
            --card-bg: #e0e0e0;
            --handle-bg: #333;
            --handle-arrow: #fff;
            --border-color: rgba(0, 0, 0, 0.2);
            --shadow-color: rgba(0,0,0,0.2);
            --icon-fill: #999;
            --icon-hover-text: #000;
        }

        html { scroll-behavior: smooth; }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            color: var(--text-secondary);
            min-height: 250vh; 
            overflow-x: hidden;
            font-family: 'Montserrat', sans-serif;
            display: flex; flex-direction: column; align-items: center;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .header { text-align: center; margin-top: 5vh; z-index: 200; position: relative; flex-shrink: 0; }
        h1 {
            font-family: 'Abril Fatface', serif; font-size: 5rem; color: var(--text-primary); margin: 0;
            letter-spacing: 2px; text-shadow: 4px 4px 0px var(--border-color); cursor: default;
            transition: color 0.5s;
        }
        h2 { font-size: 1.1rem; font-weight: 300; letter-spacing: 1px; margin-top: 5px; color: var(--text-primary); opacity: 0.8; transition: color 0.5s; }

        .page-content-wrapper { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 50px; }
        .content-placeholder {
            width: 90%; height: 80vh; 
            border: 3px dashed var(--border-color); border-radius: 20px;
            display: flex; justify-content: center; align-items: center;
            color: var(--text-primary); font-size: 3rem; text-transform: uppercase;
            font-family: 'Kanit', sans-serif;
            background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(5px);
        }

        .right-nav { position: fixed; right: 20px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 20px; z-index: 999; }
        .nav-tab { width: 15px; height: 15px; background: rgba(255, 255, 255, 0.1); border: 1px solid var(--border-color); border-radius: 3px; cursor: pointer; transition: all 0.3s ease; }
        .nav-tab:hover, .nav-tab.active { background-color: var(--text-primary); box-shadow: 0 0 15px var(--text-primary); transform: scale(1.3); border-color: transparent; }

        .page-section { display: none; width: 100%; height: 100vh; flex-direction: column; align-items: center; justify-content: center; animation: fadeIn 0.5s ease; }
        .page-section.active { display: flex; }
        .other-page-content { font-size: 4rem; color: var(--text-primary); text-transform: uppercase; font-family: 'Kanit', sans-serif; text-align: center; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .drawer-container { position: fixed; top: 150px; left: -260px; width: 260px; z-index: 999; transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1); }
        .drawer-container:hover { transform: translateX(260px); }
        .drawer-content { background: var(--drawer-bg); backdrop-filter: blur(15px); border-right: 1px solid var(--border-color); padding: 30px 20px; display: flex; flex-direction: column; gap: 30px; width: 100%; box-sizing: border-box; box-shadow: 10px 0 30px var(--shadow-color); border-radius: 0 0 20px 0; transition: background 0.5s, border 0.5s; }
        .drawer-handle { position: absolute; top: 0; right: -60px; width: 60px; height: 80px; background: var(--handle-bg); border-radius: 0 15px 15px 0; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 5px 0 15px var(--border-color); transition: all 0.3s ease; }
        .drawer-handle::after { content: '»'; color: var(--handle-arrow); font-weight: 900; font-size: 2.5rem; line-height: 0; padding-bottom: 5px; }
        .drawer-container:hover .drawer-handle { background: #5A189A; right: -50px; width: 50px; }
        .drawer-container:hover .drawer-handle::after { content: '«'; color: white; }

        .side-item { display: flex; align-items: center; gap: 15px; cursor: pointer; text-decoration: none; color: var(--text-secondary); width: 100%; overflow: hidden; }
        .side-icon { width: 30px; height: 30px; fill: var(--icon-fill); transition: all 0.3s; flex-shrink: 0; }
        .side-text { font-family: 'Kanit', sans-serif; font-weight: 900; font-size: 1.8rem; text-transform: uppercase; letter-spacing: 1px; color: #888; position: relative; white-space: nowrap; }
        .side-item:hover .side-text { color: var(--icon-hover-text); }
        .side-item:hover .kick-icon { fill: #00FF41; filter: drop-shadow(0 0 8px #00FF41); }
        .side-item:hover .tiktok-icon { fill: #00F2EA; filter: drop-shadow(0 0 8px #00F2EA); }
        .side-item:hover .youtube-icon { fill: #FF0000; filter: drop-shadow(0 0 8px #FF0000); }
        .side-item:hover .insta-icon { fill: #E1306C; filter: drop-shadow(0 0 8px #E1306C); }
        .hacking-effect { color: var(--icon-hover-text) !important; text-shadow: 3px 0 rgba(255,0,0,0.8), -3px 0 rgba(0,255,255,0.8); }

        /* --- DOCK --- */
        .bottom-dock {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 60vh; z-index: 100;
            overflow: hidden; border-radius: 40px 40px 0 0; 
            transform: translateY(80%); 
            transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
            display: flex; justify-content: center; align-items: center;
            backdrop-filter: blur(10px);
            background: linear-gradient(to top, var(--bg-color), rgba(0,0,0,0.5));
        }
        .bottom-dock:hover { transform: translateY(0); }
        .bottom-dock.dock-hidden { transform: translateY(110%) !important; pointer-events: none; }
        .bottom-dock.force-open { transform: translateY(0) !important; }

        .scene {
            position: relative; width: 100%; height: 100%; 
            display: flex; justify-content: center; align-items: center;
            perspective: 1200px; padding-top: 80px; 
        }

        .card {
            position: absolute; width: 650px; height: 360px; border-radius: 20px;
            background: var(--card-bg); display: flex; justify-content: center; align-items: center;
            box-shadow: 0 25px 60px var(--shadow-color);
            transition: transform 0.7s cubic-bezier(0.19, 1, 0.22, 1), background 0.5s;
            overflow: hidden; border: 1px solid var(--border-color);
            left: 50%; top: 50%; margin-left: -325px; margin-top: -180px;
        }

        .card iframe { width: 100%; height: 100%; border: none; }
        
        /* --- YENİ: KORUYUCU KALKAN (OVERLAY) --- */
        /* Bu katman videonun üzerinde durup scroll hareketini yakalar */
        .card-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10; cursor: pointer;
            /* Debug için hafif renk verebiliriz ama şimdilik şeffaf */
            background: transparent; 
        }

        .card.active { border: 2px solid var(--text-primary); box-shadow: 0 0 80px rgba(255, 255, 255, 0.1); z-index: 200; }

        .toggle-switch { position: fixed; top: 30px; right: 30px; width: 60px; height: 30px; background: #5A189A; border-radius: 30px; display: flex; align-items: center; padding: 2px; cursor: pointer; z-index: 300; transition: background 0.5s; }
        .toggle-circle { width: 26px; height: 26px; background: #fff; border-radius: 50%; transition: transform 0.3s; }
        .toggle-switch.active .toggle-circle { transform: translateX(30px); background: #333; }
        .toggle-switch.active { background: #FFD700; }
        
        .info-text { position: fixed; bottom: 130px; opacity: 0.4; font-size: 0.7rem; letter-spacing: 2px; z-index: 50; pointer-events: none; color: var(--text-secondary); transition: opacity 0.3s; }
        .info-text.hidden { opacity: 0; }

    </style>
</head>
<body>

    <div class="toggle-switch" id="themeToggle"><div class="toggle-circle"></div></div>

    <div class="header">
        <h1>SHRBRK</h1>
        <h2>Seher ÖZDEN – Burak SEYMEN</h2>
    </div>

    <div class="right-nav">
        <div class="nav-tab active" onclick="switchPage(1)" title="Anasayfa"></div>
        <div class="nav-tab" onclick="switchPage(2)" title="Sayfa 2"></div>
        <div class="nav-tab" onclick="switchPage(3)" title="Sayfa 3"></div>
    </div>

    <div id="page1" class="page-content-wrapper">
        <div class="content-placeholder">
            BURAYA İÇERİK GELECEK <br> 
            <span style="font-size: 1rem; margin-top: 20px;">(Devasa Alan)</span>
        </div>
        <div class="info-text" id="infoText">AŞAĞI SCROLL • SPACE</div>
    </div>
    <div id="page2" class="page-section"><div class="other-page-content">SAYFA 2</div></div>
    <div id="page3" class="page-section"><div class="other-page-content">SAYFA 3</div></div>

    <div class="drawer-container">
        <div class="drawer-content">
            <a href="#" class="side-item"><svg class="side-icon kick-icon" viewBox="0 0 24 24"><path d="M3,3v18h4v-7l5,7h5l-6-8l5-7h-4l-5,6V3H3z"/></svg><span class="side-text" data-original="KICK">KICK</span></a>
            <a href="#" class="side-item"><svg class="side-icon tiktok-icon" viewBox="0 0 24 24"><path d="M12.5,3v10.5C12.5,14.9,11.4,16,10,16s-2.5-1.1-2.5-2.5S8.6,11,10,11v-3c-3,0-5.5,2.5-5.5,5.5S7,19,10,19s5.5-2.5,5.5-5.5V6c1.7,0,3.2,0.7,4.3,1.8l2.1-2.1C20.3,4.1,18.3,3,16,3H12.5z"/></svg><span class="side-text" data-original="TIKTOK">TIKTOK</span></a>
            <a href="#" class="side-item"><svg class="side-icon youtube-icon" viewBox="0 0 24 24"><path d="M21.6,7.1c-0.2-0.9-1-1.6-1.8-1.8C18.2,5,12,5,12,5s-6.2,0-7.8,0.4c-0.9,0.2-1.6,0.9-1.8,1.8C2,8.8,2,12,2,12s0,3.2,0.4,4.9c0.2,0.9,1,1.6,1.8,1.8C5.8,19,12,19,12,19s6.2,0,7.8-0.4c0.9-0.2,1.6-0.9,1.8-1.8C22,15.2,22,12,22,12S22,8.8,21.6,7.1z M10,15V9l5.2,3L10,15z"/></svg><span class="side-text" data-original="YOUTUBE">YOUTUBE</span></a>
            <a href="#" class="side-item"><svg class="side-icon insta-icon" viewBox="0 0 24 24"><path d="M7.8,2H16.2C19.4,2,22,4.6,22,7.8V16.2A5.8,5.8,0,0,1,16.2,22H7.8C4.6,22,2,19.4,2,16.2V7.8A5.8,5.8,0,0,1,7.8,2m0,2A3.8,3.8,0,0,0,4,7.8V16.2A3.8,3.8,0,0,0,7.8,20H16.2A3.8,3.8,0,0,0,20,16.2V7.8A3.8,3.8,0,0,0,16.2,4H7.8M12,7a5,5,0,1,1-5,5a5,5,0,0,1,5-5m0,2a3,3,0,1,0,3,3a3,3,0,0,0-3-3m5.3-3.2a1.5,1.5,0,1,1-1.5,1.5a1.5,1.5,0,0,1,1.5-1.5Z"/></svg><span class="side-text" data-original="INSTAGRAM">INSTAGRAM</span></a>
        </div>
        <div class="drawer-handle"></div>
    </div>

    <div class="bottom-dock" id="bottomDock">
        <div class="scene" id="scene">
            <div class="card active">
                <div class="card-overlay" onclick="enableInteraction(this)"></div>
                <iframe src="https://www.youtube.com/embed/videoseries?list=UUsOrnG98Jb_IB7wL3F6f7ZA&enablejsapi=1&rel=0" allowfullscreen></iframe>
            </div>
            <div class="card">
                <div class="card-overlay" onclick="enableInteraction(this)"></div>
                <iframe src="https://www.youtube.com/embed/dJePNIhwf9o?enablejsapi=1&rel=0" allowfullscreen></iframe>
            </div>
            <div class="card">
                <div class="card-overlay" onclick="enableInteraction(this)"></div>
                <iframe src="https://www.youtube.com/embed?listType=playlist&list=UUlK9upmQDJxAqcGBw8oh0oA&enablejsapi=1&rel=0" allowfullscreen></iframe>
            </div>
            <div class="card">
                <div class="card-overlay" onclick="enableInteraction(this)"></div>
                <iframe src="https://www.instagram.com/reel/DSAsvLpiGfL/embed" allowtransparency="true" allowfullscreen></iframe>
            </div>
            <div class="card">
                <div class="card-overlay" onclick="enableInteraction(this)"></div>
                <iframe src="https://www.youtube.com/embed/videoseries?list=UUsOrnG98Jb_IB7wL3F6f7ZA&enablejsapi=1&rel=0" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <script>
        // --- ETKİLEŞİM YÖNETİMİ (YENİ) ---
        // Karta tıklandığında kalkanı kaldır, videoya erişime izin ver
        function enableInteraction(element) {
            // Sadece aktif karta izin ver
            if (element.parentElement.classList.contains('active')) {
                element.style.display = 'none'; // Kalkanı gizle
            }
        }

        // --- SAYFA GEÇİŞ MANTIĞI ---
        let currentPage = 1;
        const bottomDock = document.getElementById('bottomDock');
        const page1Content = document.getElementById('page1');
        const page2Content = document.getElementById('page2');
        const page3Content = document.getElementById('page3');
        const infoText = document.getElementById('infoText');
        const tabs = document.querySelectorAll('.nav-tab');

        function switchPage(pageId) {
            if (currentPage === pageId) return;
            currentPage = pageId;
            tabs.forEach(t => t.classList.remove('active'));
            tabs[pageId - 1].classList.add('active');

            if (pageId === 1) {
                page1Content.style.display = 'flex';
                page2Content.classList.remove('active'); page3Content.classList.remove('active');
                bottomDock.classList.remove('dock-hidden'); infoText.classList.remove('hidden');
            } else {
                page1Content.style.display = 'none';
                bottomDock.classList.add('dock-hidden'); infoText.classList.add('hidden');
                if (pageId === 2) { page2Content.classList.add('active'); page3Content.classList.remove('active'); } 
                else if (pageId === 3) { page3Content.classList.add('active'); page2Content.classList.remove('active'); }
            }
        }

        const toggleBtn = document.getElementById('themeToggle');
        const body = document.body;
        toggleBtn.addEventListener('click', () => { toggleBtn.classList.toggle('active'); body.classList.toggle('light-mode'); });

        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*";
        const sideItems = document.querySelectorAll('.side-item');
        sideItems.forEach(item => {
            const textElement = item.querySelector('.side-text');
            const originalText = textElement.dataset.original;
            let effectInterval = null; let leaveTimeout = null; let isAnimating = false;
            item.addEventListener('mouseenter', () => {
                if (leaveTimeout) clearTimeout(leaveTimeout); if (isAnimating) return; 
                isAnimating = true; textElement.classList.add('hacking-effect');
                let startTime = Date.now();
                const runEffect = () => {
                    let elapsed = Date.now() - startTime;
                    if (elapsed >= 1000) { textElement.innerText = originalText; textElement.classList.remove('hacking-effect'); isAnimating = false; clearInterval(effectInterval); return; }
                    if (elapsed > 750) { if (Math.random() > 0.5) textElement.innerText = originalText.split("").map(l => letters[Math.floor(Math.random() * letters.length)]).join(""); } 
                    else { textElement.innerText = originalText.split("").map(l => letters[Math.floor(Math.random() * letters.length)]).join(""); }
                };
                effectInterval = setInterval(runEffect, 30);
            });
            item.addEventListener('mouseleave', () => {
                leaveTimeout = setTimeout(() => { clearInterval(effectInterval); textElement.innerText = originalText; textElement.classList.remove('hacking-effect'); isAnimating = false; }, 150);
            });
        });

        // SLIDER
        const cards = document.querySelectorAll('.card'); const totalCards = cards.length;
        let scrollStep = 0; let isThrottled = false;

        updateLayout();

        bottomDock.addEventListener('wheel', (e) => { 
            e.preventDefault(); if (isThrottled) return; 
            if (e.deltaY > 0) { scrollStep++; updateLayout(); throttle(); } 
        }, { passive: false });

        function throttle() { isThrottled = true; setTimeout(() => isThrottled = false, 600); }

        function updateLayout() {
            const activeIndex = scrollStep % totalCards;
            
            // HER DEĞİŞİMDE KALKANLARI GERİ GETİR (Reset)
            // Böylece bir videoya tıkladıktan sonra başka videoya geçersen yine scroll çalışır
            document.querySelectorAll('.card-overlay').forEach(overlay => overlay.style.display = 'block');

            cards.forEach((card, index) => {
                let distance = (index - activeIndex) % totalCards;
                if (distance < 0) distance += totalCards; if (distance > totalCards / 2) distance -= totalCards;
                
                card.classList.remove('active'); 

                if (distance === 0) { 
                    card.classList.add('active'); 
                    card.style.transform = `translateX(0) scale(1) translateZ(50px)`; 
                    card.style.zIndex = 100; 
                } 
                else if (Math.abs(distance) === 1) { 
                    card.style.transform = `translateX(${300 * distance}px) translateY(-25px) scale(0.7) translateZ(100px) rotateY(${+20 * distance}deg)`; 
                    card.style.zIndex = 50; 
                } 
                else { 
                    card.style.transform = `translateX(${475 * Math.sign(distance)}px) translateY(-50px) scale(0.4) translateZ(50px) rotateY(${20 * Math.sign(distance)}deg)`; 
                    card.style.zIndex = 10; 
                }
            });
        }

        bottomDock.addEventListener('mousemove', (e) => { 
            const activeCard = cards[scrollStep % totalCards]; if (!activeCard) return; 
            const x = (window.innerWidth / 2 - e.pageX) / 60; const y = (window.innerHeight / 2 - e.pageY) / 60; 
            activeCard.style.transform = `translateX(0) scale(1) translateZ(50px) rotateY(${-x}deg) rotateX(${y}deg)`; 
        });
        
        // Mouse çekmeceden çıkınca da kalkanları resetle ki geri gelince scroll çalışsın
        bottomDock.addEventListener('mouseleave', () => {
            updateLayout();
        });

        // SPACE TUŞU
        document.addEventListener('keydown', (e) => { 
            if (currentPage === 1 && e.code === 'Space') { 
                e.preventDefault(); 
                bottomDock.classList.toggle('force-open');
            } 
        });

    </script>
</body>
</html>
